<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <!-- putmetho satrt -->

<input type="text" id="name" placeholder="Car Nickname">
<input type="text" id="carName" placeholder="Car Name">
<input type="text" id="carPrice" placeholder="Car Price">
<input type="text" id="carModel" placeholder="Car Model">
<input type="text" id="carMillage" placeholder="Millage">
<input type="text" id="fuelType" placeholder="Fuel Type">
<input type="text" id="carCC" placeholder="CC">
<input type="text" id="carType" placeholder="Type">
<input type="text" id="carDoor" placeholder="Door Count">
<input type="text" id="carSeat" placeholder="Seater">
<input type="text" id="carpower" placeholder="Power">
<input type="text" id="carAutomation" placeholder="Automation">
<input type="text" id="carTarget" placeholder="Target">
<input type="text" id="carColor" placeholder="Color">
<input type="text" id="carInterColor" placeholder="Interior Color">
<input type="text" id="carCylinder" placeholder="Cylinder">
<input type="text" id="carWaranty" placeholder="Warranty">
<br><br>
<input type="file" id="photo1">
<input type="file" id="photo2">
<input type="file" id="photo3">
<input type="file" id="photo4">

<br><br>

<button onclick="updateCarListing('1')">Update Car</button>


    <!-- putmethod closes -->


    <script>
    function updateCarListing(carId) {
    const formData = new FormData();

    // Add text data
    formData.append('name', document.getElementById('name').value);
    formData.append('carName', document.getElementById('carName').value);
    formData.append('carPrice', document.getElementById('carPrice').value);
    formData.append('carModel', document.getElementById('carModel').value);
    formData.append('carMillage', document.getElementById('carMillage').value);
    formData.append('fuelType', document.getElementById('fuelType').value);
    formData.append('carCC', document.getElementById('carCC').value);
    formData.append('carType', document.getElementById('carType').value);
    formData.append('carDoor', document.getElementById('carDoor').value);
    formData.append('carSeat', document.getElementById('carSeat').value);
    formData.append('carpower', document.getElementById('carpower').value);
    formData.append('carAutomation', document.getElementById('carAutomation').value);
    formData.append('carTarget', document.getElementById('carTarget').value);
    formData.append('carColor', document.getElementById('carColor').value);
    formData.append('carInterColor', document.getElementById('carInterColor').value);
    formData.append('carCylinder', document.getElementById('carCylinder').value);
    formData.append('carWaranty', document.getElementById('carWaranty').value);

    // Add image files only if uploaded
    const photo1 = document.getElementById('photo1').files[0];
    const photo2 = document.getElementById('photo2').files[0];
    const photo3 = document.getElementById('photo3').files[0];
    const photo4 = document.getElementById('photo4').files[0];

    if (photo1) formData.append('photo1', photo1);
    if (photo2) formData.append('photo2', photo2);
    if (photo3) formData.append('photo3', photo3);
    if (photo4) formData.append('photo4', photo4);

    fetch(`http://localhost:4015/ExListing/update/${carId}`, {
        method: 'PUT',
        body: formData,
    })
    .then(response => response.json())
    .then(result => {
        console.log(result);
        if (result.status) {
            alert('Car updated successfully!');
            // Optionally reload or redirect
        } else {
            alert('Error updating car.');
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('Something went wrong.');
    });
}

    </script>
</body>
</html>