<!DOCTYPE html>
<html>
<head>
  <title>New Body Listing</title>
</head>
<body>
  <h2>Add New Body Listing</h2>

  <!-- Text inputs for each field -->
   <div class="bodyPost-group">
    <label for="mainName">Main Name:</label>
    <input type="text" id="mainName">  
   </div>

   <div class="bodyPost-group">
    <label for="carKm">Car Km:</label><br>
    <input type="text" id="carKm"><br><br>  
   </div>

   <div class="bodyPost-group">
    <label for="carRate1">Car Rate1:</label><br>
    <input type="text" id="carRate1"><br><br>  
   </div>

   <div class="bodyPost-group">
    <label for="carRate2">Car Rate2:</label><br>
    <input type="text" id="carRate2"><br><br>  
   </div>

   <div class="bodyPost-group">
    <label for="carMonth">Car Month:</label><br>
    <input type="text" id="carMonth"><br><br>  
   </div>

   <div class="bodyPost-group">
    <label for="carType">Car Type:</label><br>
    <input type="text" id="carType"><br><br>  
   </div>

   <div class="bodyPost-group">
    <label for="carDoor">Car Door:</label><br>
    <input type="text" id="carDoor"><br><br>  
   </div>

   <div class="bodyPost-group">
    <label for="carSeat">Car Seat:</label><br>
    <input type="text" id="carSeat"><br><br>  
   </div>

   <div class="bodyPost-group"> 
    <label for="carPower">Car Power:</label><br>
    <input type="text" id="carPower"><br><br>  
   </div>

   <div class="bodyPost-group">
    <label for="carAutomation">Car Automation:</label><br>
    <input type="text" id="carAutomation"><br><br>  
   </div>

   <div class="bodyPost-group">
    <label for="carTarget">Car Target:</label><br>
    <input type="text" id="carTarget"><br><br>  
   </div>

   <div class="bodyPost-group">
    <label for="carColor">Car Color:</label><br>
    <input type="text" id="carColor"><br><br>  
   </div>

   <div class="bodyPost-group">
    <label for="carInterColor">Interior Color:</label><br>
    <input type="text" id="carInterColor"><br><br>  
   </div>

   <div class="bodyPost-group">
    <label for="carFuel">Car Fuel:</label><br>
    <input type="text" id="carFuel"><br><br>  
   </div>

   <div class="bodyPost-group">
    <label for="carCylinder">Car Cylinder:</label><br>
    <input type="text" id="carCylinder"><br><br>  
   </div>

   <div class="bodyPost-group">
    <label for="carWaranty">Car Waranty:</label><br>
    <input type="text" id="carWaranty"><br><br>  
   </div>

  <!-- File inputs for images -->

  <div class="bodyPost-group">
    <label for="image1">Image 1:</label><br>
    <input type="file" id="image1"><br><br>  
  </div>

  <div class="bodyPost-group">
    <label for="image2">Image 2:</label><br>
    <input type="file" id="image2"><br><br>  
  </div>

  <div class="bodyPost-group">
    <label for="image3">Image 3:</label><br>
    <input type="file" id="image3"><br><br>  
  </div>

  <div class="bodyPost-group">
    <label for="image4">Image 4:</label><br>
    <input type="file" id="image4"><br><br>  
  </div>

  <div class="bodyPost-groupBut">
    <button type="button" onclick="submitForm()">Submit</button>
  </div>
  
  <script>
  function submitForm() {
    // Gather text input values
    const mainName = document.getElementById('mainName').value;
    const carModel = document.getElementById('carModel').value;
    const carKm = document.getElementById('carKm').value;
    const carRate1 = document.getElementById('carRate1').value;
    const carRate2 = document.getElementById('carRate2').value;
    const carMonth = document.getElementById('carMonth').value;
    const carType = document.getElementById('carType').value;
    const carDoor = document.getElementById('carDoor').value;
    const carSeat = document.getElementById('carSeat').value;
    const carPower = document.getElementById('carPower').value;
    const carAutomation = document.getElementById('carAutomation').value;
    const carTarget = document.getElementById('carTarget').value;
    const carColor = document.getElementById('carColor').value;
    const carInterColor = document.getElementById('carInterColor').value;
    const carFuel = document.getElementById('carFuel').value;
    const carCylinder = document.getElementById('carCylinder').value;
    const carWaranty = document.getElementById('carWaranty').value;

    // Gather file inputs (each is a File object)
    const image1 = document.getElementById('image1').files[0];
    const image2 = document.getElementById('image2').files[0];
    const image3 = document.getElementById('image3').files[0];
    const image4 = document.getElementById('image4').files[0];

    // Create FormData and append all fields
    const formData = new FormData();
    formData.append('mainName', mainName);
    formData.append('carModel', carModel);
    formData.append('carKm', carKm);
    formData.append('carRate1', carRate1);
    formData.append('carRate2', carRate2);
    formData.append('carMonth', carMonth);
    formData.append('carType', carType);
    formData.append('carDoor', carDoor);
    formData.append('carSeat', carSeat);
    formData.append('carPower', carPower);
    formData.append('carAutomation', carAutomation);
    formData.append('carTarget', carTarget);
    formData.append('carColor', carColor);
    formData.append('carInterColor', carInterColor);
    formData.append('carFuel', carFuel);
    formData.append('carCylinder', carCylinder);
    formData.append('carWaranty', carWaranty);
    formData.append('image1', image1);
    formData.append('image2', image2);
    formData.append('image3', image3);
    formData.append('image4', image4);

    // Send the POST request with fetch()
    fetch('http://localhost:4015/BodyListing/post', {
      method: 'POST',
      body: formData
    })
    .then(response => {
      if (!response.ok) throw new Error('Network response was not ok');
      return response.json();
    })
    .then(data => {
      alert('Body listing submitted successfully');
    })
    .catch(error => {
      console.error('Error:', error);
      alert('Error submitting listing');
    });
  }
  </script>
</body>
</html>
